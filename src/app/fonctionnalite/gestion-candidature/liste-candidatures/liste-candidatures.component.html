
      <!-- Page-title -->
      <div class="page-title page-portfolio-details">
        <div class="rellax" data-rellax-speed="5" style="transform: translate3d(0px, 0px, 0px);">
            <img alt="" src="/images/page-title/portfolio.jpg" />
        </div>
        <div class="content-wrap">
            <div class="tf-container w-1290">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="content">
                            <p class="sub-title">
                                Liste des candidatures reçues
                            </p>
                            <h1 class="title" >
                                Candidatures reçues
                            </h1>
                            <div class="icon-img">
                                <img alt="" src="/images/item/line-throw-title.png" />
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="img-item item-2">
            <img alt="" src="/images/item/grass.png" />
        </div>
    </div><!-- /.Page-title -->







<!-- <div *ngIf="showModal" class="modal-overlay">
  <div class="modal-content">
    <h3>la candidature</h3>
    <h3>{{ reponseChoisie? 'Accepter' : 'Refuser' }} la candidature</h3> commenter
    <app-reponse 
    *ngIf="candidatureEnCours !== null"
    modalFerme="fermerModal()" 
    [reponse]="reponseChoisie" 
    [candidatureId]="candidatureEnCours">
  </app-reponse>
   
    <button class="btn btn-secondary m-2" (click)="fermerModal()">Fermer la fenetre</button>
  </div>
</div> -->

<div *ngIf="showModal" class="modal-overlay position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background-color: rgba(0,0,0,0.5); z-index: 1050;">
  <div class="modal-content bg-white rounded-4 shadow-lg border-0" style="max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto;">
    
    <!-- En-tête du modal -->
    <div class="modal-header bg-primary text-white p-4 rounded-top-4">
      <h3 class="modal-title mb-0 fw-bold">
        <i class="fas fa-envelope me-3"></i>
        Répondre à la candidature
      </h3>
    </div>

    <!-- Corps du modal -->
    <div class="modal-body p-4">
      <!-- Composant réponse stylisé -->
      <app-reponse
        *ngIf="candidatureEnCours !== null"
        modalFerme="fermerModal()"
        [reponse]="reponseChoisie"
        [candidatureId]="candidatureEnCours"
        class="d-block">
      </app-reponse>
    </div>

    <!-- Pied du modal -->
    <div class="modal-footer bg-light p-4 rounded-bottom-4 border-top">
      <button class="btn btn-secondary btn-lg px-4 rounded-pill" (click)="fermerModal()">
        <i class="fas fa-times me-2"></i>
        Fermer
      </button>
    </div>
  </div>
</div>








<!-- HTML -->
<div *ngFor="let candidature of candidatures; let i= index" class="candidature-container mt-5">
    <div class="candidature-wrapper">
      <div class="candidature-header" [attr.data-number]="i + 1" (click)="toggleContent($event)">
        <span class="candidature-title">Offre N° {{i+1}}</span>
        <span class="toggle-icon">+</span>
      </div>
      
      <div class="candidature-content">
        <div class="action-buttons">
          <button class="btn-accept" (click)="ouvrirModal(candidature.id, true)">Accepter</button>
          <button class="btn-reject" (click)="ouvrirModal(candidature.id, false)">Refuser</button>
        </div>
        
        <div class="candidature-info">
          <div class="info-column">
            <div class="info-group">
              <label>Noms du Postulant</label>
              <p>{{candidature.nom}}</p>
            </div>
            <div class="info-group">
              <label>Prénoms du Postulant</label>
              <p>{{candidature.prenoms}}</p>
            </div>
            <div class="info-group">
              <label>Mail du Postulant</label>
              <p>{{candidature.email}}</p>
            </div>
          </div>
          
          <div class="info-column">
            <div class="info-group">
              <label>Contact</label>
              <p>{{candidature.numero_telephone}}</p>
            </div>
            <div class="info-group">
              <label>Adresse</label>
              <p>{{candidature.adresse}}</p>
            </div>
            <div class="info-group">
              <label>Lettre de motivation</label>
              <p class="motivation-text">{{candidature.lettre_motivation}}</p>
            </div>
          </div>
        </div>
        
        <!-- Téléchargement du CV -->
        <div *ngIf="candidature.cv" class="cv-download">
          <a [href]="'http://localhost:8000/media/' + candidature.cv"
             target="_blank"
             class="download-btn">
            <i class="bi bi-file-earmark-pdf-fill"></i>
            Télécharger le CV
          </a>
        </div>
      </div>
    </div>
  </div>