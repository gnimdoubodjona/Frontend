<div class="login-container">
    <h2>Connexion</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="email">Email</label>
            <input 
                type="email" 
                id="email"
                formControlName="email"
                [class.is-invalid]="email?.invalid && (email?.dirty || email?.touched)"
            >
            <div class="error-message" *ngIf="email?.invalid && (email?.dirty || email?.touched)">
                <span *ngIf="email?.errors?.['required']">L'email est requis</span>
                <span *ngIf="email?.errors?.['email']">Veuillez entrer un email valide</span>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Mot de passe</label>
            <input 
                type="password" 
                id="password"
                formControlName="password"
                [class.is-invalid]="password?.invalid && (password?.dirty || password?.touched)"
            >
            <div class="error-message" *ngIf="password?.invalid && (password?.dirty || password?.touched)">
                <span *ngIf="password?.errors?.['required']">Le mot de passe est requis</span>
                <span *ngIf="password?.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caract√®res</span>
            </div>
        </div>

        <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
        </div>

        <button type="submit" [disabled]="loginForm.invalid">Se connecter</button>
        
        <p class="register-link">
            Vous n'avez pas de compte ? <a routerLink="/register">Inscrivez-vous</a>
        </p>
    </form>
</div>